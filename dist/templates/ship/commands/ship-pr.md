# Ship PR â€” ë…¼ë¦¬ ì»¤ë°‹ + PR ì›ìŠ¤í†± ì‹¤í–‰

ìŠ¤í…Œì´ì§•ë˜ì§€ ì•Šì€ ë³€ê²½ì‚¬í•­ì„ ë…¼ë¦¬ ë‹¨ìœ„ë¡œ ë¶„ë¥˜í•˜ì—¬ ì»¤ë°‹í•˜ê³ , feature ë¸Œëœì¹˜ë¥¼ ìƒì„±í•˜ì—¬ PRì„ ì˜¬ë¦°ë‹¤.

## Argument: $ARGUMENTS
PR ì œëª© ë˜ëŠ” ì„¤ëª… (ì˜ˆ: "ê¸°ëŠ¥ ì¶”ê°€ PR", "ë²„ê·¸ ìˆ˜ì • ëª¨ìŒ")

## Instructions

### Phase 1: í˜„ì¬ ìƒíƒœ ë¶„ì„

```bash
# 1. í˜„ì¬ ë¸Œëœì¹˜ í™•ì¸
git branch --show-current

# 2. ë³€ê²½ íŒŒì¼ ëª©ë¡
git status

# 3. ë³€ê²½ ë‚´ìš© ìš”ì•½
git diff --stat

# 4. ìµœê·¼ ì»¤ë°‹ ìŠ¤íƒ€ì¼ ì°¸ê³ 
git log --oneline -5
```

ë³€ê²½ì‚¬í•­ì´ ì—†ìœ¼ë©´ "ì»¤ë°‹í•  ë³€ê²½ì‚¬í•­ì´ ì—†ìŠµë‹ˆë‹¤"ë¥¼ ì¶œë ¥í•˜ê³  ì¢…ë£Œí•œë‹¤.

### Phase 1.5: README ìµœì‹ í™” ê²€ì¦

ì»¤ë°‹ ì „ì— README.mdì˜ ì£¼ìš” ìˆ˜ì¹˜ê°€ ì‹¤ì œ í”„ë¡œì íŠ¸ì™€ ì¼ì¹˜í•˜ëŠ”ì§€ êµì°¨ ê²€ì¦í•œë‹¤.
ë¶ˆì¼ì¹˜ê°€ ìˆìœ¼ë©´ ìë™ìœ¼ë¡œ ìˆ˜ì •í•˜ì—¬ ë³€ê²½ íŒŒì¼ì— í¬í•¨í•œë‹¤.

#### ê±´ë„ˆë›°ê¸° ì¡°ê±´

ë‹¤ìŒ ê²½ìš° ì´ Phaseë¥¼ ê±´ë„ˆë›´ë‹¤:
- README.mdê°€ ì—†ëŠ” í”„ë¡œì íŠ¸
- ì‚¬ì†Œí•œ ì½”ë“œ ë³€ê²½ë§Œ ìˆëŠ” ê²½ìš° (ë²„ê·¸ ìˆ˜ì • 1-2ì¤„, ìŠ¤íƒ€ì¼ ë³€ê²½ ë“±)

#### ê²€ì¦ ëŒ€ìƒ (í•´ë‹¹ í•­ëª©ì´ READMEì— ì¡´ì¬í•  ë•Œë§Œ)

| ê²€ì¦ í•­ëª© | ì‹¤ì œ ê°’ í™•ì¸ ë°©ë²• |
|-----------|-------------------|
| MCP ë„êµ¬ ìˆ˜ | `src/tools/index.ts`ì˜ `register*Tool` í•¨ìˆ˜ ìˆ˜ |
| ìŠ¤í‚¬ ìˆ˜ | `ls skills/` ë””ë ‰í† ë¦¬ ìˆ˜ |
| ì—ì´ì „íŠ¸ ìˆ˜ | `ls agents/` íŒŒì¼ ìˆ˜ |
| í›… ìˆ˜ | `hooks/hooks.json` ì—”íŠ¸ë¦¬ ìˆ˜ |
| ëª¨ë“ˆ ìˆ˜ | `templates/module-manifest.json` í‚¤ ìˆ˜ |
| í…ŒìŠ¤íŠ¸ ìˆ˜ | ê°€ì¥ ìµœê·¼ `npm test` ê²°ê³¼ì˜ passed ìˆ˜ |
| ë²„ì „ | `package.json` â†” `plugin.json` â†” `marketplace.json` â†” `server.ts` |

#### marketplace.json ì„¤ëª… í•„ë“œë„ ê²€ì¦

`.claude-plugin/marketplace.json`ì˜ `description` í•„ë“œì— í¬í•¨ëœ ìˆ˜ì¹˜ë„ ì‹¤ì œì™€ ë¹„êµí•œë‹¤.

#### íŒŒì¼ ë³€ê²½ ê¸°ë°˜ ì¶”ê°€ ê°ì§€

ë³€ê²½ëœ íŒŒì¼ì— ì•„ë˜ê°€ í¬í•¨ë˜ë©´ README ê´€ë ¨ ì„¹ì…˜ì„ ì¤‘ì  í™•ì¸í•œë‹¤:

```
ë³€ê²½ëœ íŒŒì¼ ë¶„ì„
   â†“
ì•„ë˜ ì¡°ê±´ ì¤‘ í•˜ë‚˜ë¼ë„ í•´ë‹¹í•˜ë©´ README êµì°¨ê²€ì¦ ê°•í™”:
  â”œâ”€â”€ í›… íŒŒì¼ ë³€ê²½ (hooks/) â†’ README í›… í…Œì´ë¸” í™•ì¸
  â”œâ”€â”€ ìŠ¤í‚¬ ì¶”ê°€/ì‚­ì œ (skills/) â†’ README ìŠ¤í‚¬ ìˆ˜ í™•ì¸
  â”œâ”€â”€ ë„êµ¬ ë³€ê²½ (src/tools/) â†’ README ë„êµ¬ ìˆ˜ í™•ì¸
  â”œâ”€â”€ í…œí”Œë¦¿ êµ¬ì¡° ë³€ê²½ (templates/) â†’ README êµ¬ì¡°ë„ í™•ì¸
  â”œâ”€â”€ ì—ì´ì „íŠ¸ ë³€ê²½ (agents/) â†’ README ì—ì´ì „íŠ¸ ìˆ˜ í™•ì¸
  â””â”€â”€ ì„¤ì •/í”ŒëŸ¬ê·¸ì¸ ë³€ê²½ (.claude-plugin/) â†’ README Quick Start í™•ì¸
```

#### íŒì • ë° ìë™ ìˆ˜ì •

| ê²°ê³¼ | í–‰ë™ |
|------|------|
| ëª¨ë“  ìˆ˜ì¹˜ ì¼ì¹˜ | `[README ê²€ì¦ PASS]` â†’ Phase 2ë¡œ ì§„í–‰ |
| ë¶ˆì¼ì¹˜ ë°œê²¬ | README.md / marketplace.json ìë™ ìˆ˜ì • â†’ ë³€ê²½ íŒŒì¼ì— í¬í•¨ |
| README.md ì—†ìŒ | ê±´ë„ˆëœ€ |

```
[README ìµœì‹ í™” ê²€ì¦]

âœ… ëª¨ë“  ìˆ˜ì¹˜ ì¼ì¹˜ â†’ Phase 2ë¡œ ì§„í–‰
âš ï¸ ë¶ˆì¼ì¹˜ ë°œê²¬ ë° ìë™ ìˆ˜ì •:
   - MCP ë„êµ¬: README "20ê°œ" â†” ì‹¤ì œ 22ê°œ â†’ ìˆ˜ì • ì™„ë£Œ
   - marketplace.json description "20ê°œ MCP ë„êµ¬" â†’ "22ê°œ MCP ë„êµ¬" ìˆ˜ì • ì™„ë£Œ
   â†’ README.md, marketplace.jsonì„ ë³€ê²½ íŒŒì¼ì— í¬í•¨
```

> ì»¤ë°‹í•  ë³€ê²½ì‚¬í•­ì´ ìˆ˜ì¹˜ì— ì˜í–¥ì„ ì£¼ëŠ” ê²½ìš°(ìŠ¤í‚¬/ë„êµ¬/í›… ì¶”ê°€ ë“±)ì— íŠ¹íˆ ì£¼ì˜í•œë‹¤.

### Phase 2: ë…¼ë¦¬ ë‹¨ìœ„ ë¶„ë¥˜

ë³€ê²½ëœ íŒŒì¼ë“¤ì„ ë¶„ì„í•˜ì—¬ **ë…¼ë¦¬ì ìœ¼ë¡œ ê´€ë ¨ëœ ê·¸ë£¹**ìœ¼ë¡œ ë¶„ë¥˜í•œë‹¤.

#### ë¶„ë¥˜ ê¸°ì¤€

| ìš°ì„ ìˆœìœ„ | ê¸°ì¤€ | ì˜ˆì‹œ |
|---------|------|------|
| 1 | ê°™ì€ ê¸°ëŠ¥/ë„ë©”ì¸ | ëª¨ë¸+ì„œë¹„ìŠ¤+ë¼ìš°íŠ¸+í…ŒìŠ¤íŠ¸ â†’ í•˜ë‚˜ì˜ ì»¤ë°‹ |
| 2 | ê°™ì€ ë³€ê²½ ìœ í˜• | ì„¤ì • íŒŒì¼ë“¤, ë¬¸ì„œ íŒŒì¼ë“¤ |
| 3 | ì¢…ì† ê´€ê³„ | Aê°€ Bì— ì˜ì¡´í•˜ë©´ Aë¥¼ ë¨¼ì € ì»¤ë°‹ |
| 4 | ë…ë¦½ì  ë³€ê²½ | ì„œë¡œ ë¬´ê´€í•œ íŒŒì¼ì€ ë³„ë„ ì»¤ë°‹ |

#### ì»¤ë°‹ ë©”ì‹œì§€ ì»¨ë²¤ì…˜

```
<type>(scope): <ì„¤ëª… (ì˜ë¬¸, ì†Œë¬¸ì ì‹œì‘, í˜„ì¬í˜•)> (#ì´ìŠˆë²ˆí˜¸)

<í•œêµ­ì–´ ìƒì„¸ ì„¤ëª… (2-3ì¤„)>

Co-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>
```

**ì´ìŠˆ ì—°ë™ ê·œì¹™:**
- ê´€ë ¨ ì´ìŠˆê°€ ìˆìœ¼ë©´ ë°˜ë“œì‹œ ì»¤ë°‹ ë©”ì‹œì§€ì— `(#ì´ìŠˆë²ˆí˜¸)` í¬í•¨
- fix ì»¤ë°‹ì€ ì›ì¸ íƒœê·¸ ê¶Œì¥: `fix(web): [UI] prevent callback recreation (#42)`
- íƒœê·¸: `[UI]`, `[Data]`, `[API]`, `[Perf]`, `[Crash]`, `[Logic]`, `[Security]`, `[Config]`

**type ê·œì¹™:**
| type | ì‚¬ìš© | ì˜ˆì‹œ |
|------|------|------|
| `feat` | ìƒˆ ê¸°ëŠ¥ | feat(web): add user profile page (#3) |
| `fix` | ë²„ê·¸ ìˆ˜ì • | fix(api): [Data] resolve null pointer in payment (#4) |
| `refactor` | ë¦¬íŒ©í† ë§ | refactor: extract auth middleware |
| `docs` | ë¬¸ì„œ | docs: update API reference |
| `test` | í…ŒìŠ¤íŠ¸ | test: add integration tests for cart |
| `chore` | ì„¤ì •/ë¹Œë“œ | chore: update dependencies |
| `style` | í¬ë§·/ìŠ¤íƒ€ì¼ | style: apply prettier formatting |

#### ë¶„ë¥˜ ê²°ê³¼ í™•ì¸

ë¶„ë¥˜ ê²°ê³¼ë¥¼ ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì£¼ê³  AskUserQuestionìœ¼ë¡œ í™•ì¸í•œë‹¤:

```
[ì»¤ë°‹ ê³„íš]

1. feat: add user authentication
   - src/models/user.py
   - src/services/auth_service.py
   - src/routes/auth_routes.py
   - tests/test_auth.py

2. feat: add profile page
   - src/components/ProfilePage.tsx
   - src/components/AvatarUploader.tsx

3. docs: update README
   - README.md

ì´ 3ê°œ ì»¤ë°‹ ì˜ˆì •. ì§„í–‰í• ê¹Œìš”?
```

### Phase 3: ë¸Œëœì¹˜ ìƒì„±

í˜„ì¬ ë¸Œëœì¹˜ê°€ main/masterë¼ë©´ feature ë¸Œëœì¹˜ë¥¼ ìƒì„±í•œë‹¤.

```bash
CURRENT_BRANCH=$(git branch --show-current)
MAIN_BRANCH="master"  # ë˜ëŠ” "main"

if [ "$CURRENT_BRANCH" = "$MAIN_BRANCH" ]; then
    # ë¸Œëœì¹˜ëª… ìƒì„±: feat/ê°„ê²°í•œ-ì„¤ëª…
    git checkout -b feat/<slug>
fi
```

ë¸Œëœì¹˜ëª… ê·œì¹™:
- `feat/` â€” ê¸°ëŠ¥ ì¶”ê°€
- `fix/` â€” ë²„ê·¸ ìˆ˜ì •
- `refactor/` â€” ë¦¬íŒ©í† ë§
- `docs/` â€” ë¬¸ì„œ
- ì˜ë¬¸ ì†Œë¬¸ì, í•˜ì´í”ˆ êµ¬ë¶„, 20ì ì´ë‚´

### Phase 4: ìˆœì°¨ ì»¤ë°‹

ë¶„ë¥˜ëœ ê·¸ë£¹ë³„ë¡œ ìˆœì„œëŒ€ë¡œ ì»¤ë°‹í•œë‹¤:

```bash
# ê° ê·¸ë£¹ë³„:
git add <íŒŒì¼1> <íŒŒì¼2> ...
git commit -m "$(cat <<'EOF'
<type>: <ì„¤ëª…>

<ìƒì„¸ ì„¤ëª…>

Co-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>
EOF
)"
```

**ìˆœì„œ ê·œì¹™:**
1. ì¸í”„ë¼/ì„¤ì • ë³€ê²½ ë¨¼ì €
2. ëª¨ë¸/í•µì‹¬ ë¡œì§
3. ì„œë¹„ìŠ¤/ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
4. UI/í”„ë¡ íŠ¸ì—”ë“œ
5. í…ŒìŠ¤íŠ¸
6. ë¬¸ì„œ

### Phase 4.5: Handoff Verify (ë…ë¦½ ê²€ì¦)

ì»¤ë°‹ì´ ì™„ë£Œëœ í›„, PR ìƒì„± ì „ì— ë…ë¦½ì ì¸ Fresh-Context ê²€ì¦ì„ ì‹¤í–‰í•œë‹¤.
ì‘ì„±ìì˜ í™•ì¸ í¸í–¥(confirmation bias)ì„ ì œê±°í•˜ì—¬ PR í’ˆì§ˆì„ ë³´ì¥í•œë‹¤.

#### ê²€ì¦ ì‹¤í–‰

1. `.omc/state/handoff-intent.md`ì— í˜„ì¬ PR ì˜ë„ë¥¼ ê¸°ë¡:
   - ë³€ê²½ ìš”ì•½ (ê° ì»¤ë°‹ì˜ ëª©ì )
   - ê¸°ëŒ€ ë™ì‘
   - Acceptance Criteria

2. Task ë„êµ¬ë¡œ ë…ë¦½ verifier ì—ì´ì „íŠ¸ë¥¼ ìƒì„±:
```
Task(subagent_type="oh-my-claudecode:verifier", prompt="
.omc/state/handoff-intent.mdë¥¼ ì½ê³  ë…ë¦½ ê²€ì¦:
1. ë¹Œë“œ ì„±ê³µ ì—¬ë¶€
2. ì „ì²´ í…ŒìŠ¤íŠ¸ í†µê³¼ ì—¬ë¶€
3. lint ì—ëŸ¬ ì—†ìŒ
ê²°ê³¼ë¥¼ .omc/state/handoff-verify-resultì— ì €ì¥
")
```

3. ê²€ì¦ ê²°ê³¼ í™•ì¸:
```
âœ… PASS â†’ Phase 5ë¡œ ì§„í–‰
âŒ FAIL â†’ ì‹¤íŒ¨ ì›ì¸ ìˆ˜ì • í›„ ì¬ì»¤ë°‹, Phase 4.5 ì¬ì‹¤í–‰
```

#### ê±´ë„ˆë›°ê¸° ì¡°ê±´

ë‹¤ìŒ ê²½ìš° Phase 4.5ë¥¼ ê±´ë„ˆë›¸ ìˆ˜ ìˆë‹¤:
- ë¬¸ì„œë§Œ ë³€ê²½í•œ ê²½ìš° (`docs:` ì»¤ë°‹ë§Œ ì¡´ì¬)
- ì„¤ì • íŒŒì¼ë§Œ ë³€ê²½í•œ ê²½ìš° (`chore:` ì»¤ë°‹ë§Œ ì¡´ì¬)
- ì‚¬ìš©ìê°€ `--skip-verify`ë¥¼ ëª…ì‹œí•œ ê²½ìš°

### Phase 5: Push + PR ìƒì„±

```bash
# 1. Push
git push -u origin <branch-name>

# 2. PR ìƒì„±
# ì´ìŠˆ ë²ˆí˜¸ê°€ ìˆìœ¼ë©´ Related Issuesì— closes #N í¬í•¨ (ë¨¸ì§€ ì‹œ ì´ìŠˆ ìë™ ë‹«í˜)
gh pr create --title "<PR ì œëª©>" --body "$(cat <<'EOF'
## Summary
<1-3ì¤„ ìš”ì•½>

## Related Issues
closes #<ì´ìŠˆë²ˆí˜¸>

## Changes
| ì»¤ë°‹ | ë‚´ìš© |
|------|------|
| `<type>(scope): <msg> (#N)` | <ì„¤ëª…> |
| ... | ... |

## Test plan
- [ ] <í…ŒìŠ¤íŠ¸ í•­ëª©>

ğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)
EOF
)"
```

### Phase 6: ê²°ê³¼ ë³´ê³ 

```
========================================
  Ship PR ì™„ë£Œ
========================================

ë¸Œëœì¹˜: feat/<name>
ì»¤ë°‹: Nê°œ
ê²€ì¦: Handoff Verify PASS âœ“
PR: <URL>

ì»¤ë°‹ ëª©ë¡:
  1. feat: ...
  2. feat: ...
  3. docs: ...
```

## Rules
- main/master ë¸Œëœì¹˜ì— ì§ì ‘ ì»¤ë°‹í•˜ì§€ ì•ŠëŠ”ë‹¤ (feature ë¸Œëœì¹˜ í•„ìˆ˜)
- ì»¤ë°‹ ë©”ì‹œì§€ëŠ” ë°˜ë“œì‹œ Co-Authored-Byë¥¼ í¬í•¨í•œë‹¤
- ê´€ë ¨ ì´ìŠˆê°€ ìˆìœ¼ë©´ ì»¤ë°‹ ë©”ì‹œì§€ì— `(#ì´ìŠˆë²ˆí˜¸)` í¬í•¨
- PR bodyì— `closes #N`ìœ¼ë¡œ ì´ìŠˆ ìë™ ë‹«ê¸° ì—°ë™
- fix ì»¤ë°‹ì—ëŠ” ì›ì¸ íƒœê·¸ ê¶Œì¥: `[UI]`, `[Data]`, `[API]`, `[Perf]`, `[Crash]`
- ë¶„ë¥˜ ê²°ê³¼ë¥¼ ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì£¼ê³  í™•ì¸ í›„ ì§„í–‰í•œë‹¤
- .env, credentials ë“± ë¯¼ê° íŒŒì¼ì€ ì»¤ë°‹í•˜ì§€ ì•ŠëŠ”ë‹¤
- ì»¤ë°‹ ì „ `git status`ë¡œ ì˜ë„í•˜ì§€ ì•Šì€ íŒŒì¼ì´ í¬í•¨ë˜ì§€ ì•Šì•˜ëŠ”ì§€ í™•ì¸í•œë‹¤
- force pushë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤
- PR bodyëŠ” HEREDOCìœ¼ë¡œ ì‘ì„±í•œë‹¤
