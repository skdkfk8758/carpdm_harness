# Lessons Learned

> 마지막 업데이트: YYYY-MM-DD
> 세션 시작 시 이 파일을 반드시 읽고 같은 실수를 반복하지 않는다.

## 규칙

각 교훈은 **상황 → 잘못된 행동 → 올바른 행동** 형식으로 기록한다.
같은 실수가 반복되면 규칙을 더 구체적으로 다듬는다 (ruthlessly iterate).

---

## 코딩 규칙

<!-- 예시:
- **상황**: JS/TS 코드에서 변수 선언 시
  - ❌ var 사용
  - ✅ const (기본) / let (루프 변수만)
-->

## 아키텍처 규칙

<!-- 예시:
- **상황**: 새 도메인 엔티티 추가 시
  - ❌ Route에서 직접 DB 쿼리
  - ✅ Model → Store → Service → Route 순서로 생성
-->

## 테스트 규칙

<!-- 예시:
- **상황**: API 테스트 작성 시
  - ❌ 실제 DB 사용
  - ✅ InMemory Store로 격리
-->

## 비즈니스 도메인 규칙

<!-- 예시:
- **상황**: 주문 관련 로직 작성 시
  - ❌ 결제 전 주문 확정 처리
  - ✅ 결제 완료 → 주문 확정 순서 필수
-->

## 도구/환경 규칙

<!-- 예시:
- **상황**: 패키지 설치 시
  - ❌ npm install (lock 파일 불일치)
  - ✅ npm ci (CI/CD 환경) 또는 pnpm install
-->

---

## 교훈 기록 가이드

새 교훈 추가 시:
1. 해당 카테고리를 찾는다 (없으면 새 카테고리 생성)
2. 아래 형식으로 추가:
   ```
   - **상황**: [언제 이 규칙이 적용되는지]
     - ❌ [잘못된 행동]
     - ✅ [올바른 행동]
   ```
3. 기존에 비슷한 규칙이 있으면 합치고 더 구체적으로 다듬는다
